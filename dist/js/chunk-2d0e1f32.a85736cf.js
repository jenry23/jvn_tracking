(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1f32"],{"7d2a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group bmd-form-group",class:{"has-items":t.entry.name,"is-focused":"name"==t.activeField}},[a("label",{staticClass:"bmd-label-floating required"},[t._v("Name")]),a("input",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.entry.name},on:{input:t.updateName,focus:function(e){return t.focusField("name")},blur:t.clearFocus}})]),a("div",{staticClass:"form-group bmd-form-group",class:{"has-items":t.entry.tag,"is-focused":"tag"==t.activeField}},[a("label",{staticClass:"bmd-label-floating required"},[t._v("Tag")]),a("v-select",{attrs:{name:"tag",label:"name",value:t.entry.tag,options:t.lists.tag,required:""},on:{input:t.updateTag,focus:function(e){return t.focusField("tag")},blur:t.clearFocus}})],1),a("GmapAutocomplete",{staticClass:"form-control",attrs:{options:{fields:["name","geometry"]}},on:{place_changed:t.setPlace}}),a("input",{staticClass:"btn btn-info",attrs:{type:"button",value:"Add",required:""},on:{click:t.addMarker}})],1),a("br"),a("GmapMap",{staticStyle:{"margin-left":"30px",width:"90%",height:"400px"},attrs:{center:t.center,zoom:15}},[a("GmapMarker",{style:{position:"absolute"},attrs:{position:t.markers,draggable:!0},on:{click:function(e){t.center=t.position},dragend:t.updateCoordinates}})],1),a("div",{staticClass:"card-footer"},[a("vue-button-spinner",{staticClass:"btn-primary",attrs:{status:t.status,isLoading:t.loading,disabled:t.loading}},[t._v("\n            Save\n            ")])],1)],1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header card-header-primary card-header-icon"},[a("div",{staticClass:"card-icon"},[a("i",{staticClass:"material-icons"},[t._v("add")])]),a("h4",{staticClass:"card-title"},[t._v("\n                  Create\n                  "),a("strong",[t._v("Location")])])])}],r=a("2f62"),n={name:"GoogleMap",data(){return{center:{lat:45.508,lng:-73.587},currentPlace:null,markers:{lat:0,lng:0},places:[],status:"",activeField:""}},mounted(){this.geolocate(),this.fetchCreateData()},beforeDestroy(){this.resetState()},computed:{...Object(r["c"])("LocationSingle",["entry","loading","lists"])},methods:{...Object(r["b"])("LocationSingle",["storeData","resetState","setName","setAddress","setTag","setLongitude","setLatitude","fetchCreateData"]),updateAddress(t){this.setAddress(t.target.value)},updateName(t){this.setName(t.target.value)},updateTag(t){this.setTag(t)},setPlace(t){this.currentPlace=t},focusField(t){this.activeField=t},clearFocus(){this.activeField=""},submitForm(){this.storeData().then(()=>{this.$router.push({name:"location.index"})}).catch(t=>{this.status="failed",_.delay(()=>{this.status=""},3e3)})},addMarker(){if(this.currentPlace){const t={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.setLatitude(this.currentPlace.geometry.location.lat()),this.setLongitude(this.currentPlace.geometry.location.lng()),this.setAddress(this.currentPlace.name),this.markers=t,this.places.push(this.currentPlace),this.center=t,this.currentPlace=null}},updateCoordinates(t){this.center={lat:t.latLng.lat(),lng:t.latLng.lng()}},geolocate:function(){navigator.geolocation.getCurrentPosition(t=>{this.center={lat:t.coords.latitude,lng:t.coords.longitude}})}}},l=n,c=a("2877"),o=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0e1f32.a85736cf.js.map