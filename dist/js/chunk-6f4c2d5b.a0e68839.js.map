{"version":3,"sources":["webpack:///./resources/adminapp/js/components/Maps/DirectionsRenderer.js","webpack:///./resources/adminapp/js/cruds/Tickets/History.vue?7f29","webpack:///./resources/adminapp/js/cruds/Tickets/History.vue?2d05","webpack:///resources/adminapp/js/cruds/Tickets/History.vue","webpack:///./resources/adminapp/js/cruds/Tickets/History.vue?7140","webpack:///./resources/adminapp/js/cruds/Tickets/History.vue"],"names":["MapElementFactory","name","ctr","window","google","maps","DirectionsRenderer","events","mappedProps","options","zoomControl","props","origin","type","Object","destination","waypoints","Array","travelMode","String","afterCreate","directionsRenderer","directionsService","DirectionsService","this","$watch","setOptions","preserveViewport","setPanel","document","getElementById","route","provideRouteAlternatives","optimizeWaypoints","response","status","setDirections","render","_vm","_h","$createElement","_c","_self","_m","staticClass","attrs","data","json_fields","_v","on","daily","weekly","monthly","annual","_s","title","_l","datas","key","id","staticStyle","routeID","vehicleID","startTime","endTime","$event","preventDefault","approveData","_e","result","staticRenderFns","components","json_data","bank_accounts","xprops","module","permission_prefix","resetState","computed","fetchDailyData","updateData","updateMarkers","methods","fetchWeeklyData","fetchMonthlyData","fetchAnnualData","$swal","text","showCancelButton","confirmButtonText","confirmButtonColor","focusCancel","reverseButtons","value","$store","snapshot","val","vehicle","passengerList","passengerID","routeList","destinationID","waypointsID","waypointsLocation","lat","lng","forEach","push","location","stopover","waypts","passenger","component"],"mappings":"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","file":"js/chunk-6f4c2d5b.a0e68839.js","sourcesContent":["import { MapElementFactory } from \"vue2-google-maps\";\r\n\r\nexport default MapElementFactory({\r\n  name: \"directionsRenderer\",\r\n\r\n  ctr() {\r\n    return window.google.maps.DirectionsRenderer;\r\n  },\r\n\r\n  events: ['directions_changed'],\r\n\r\n  mappedProps: {\r\n    options: { zoomControl: false },\r\n  },\r\n\r\n  props: {\r\n    origin: { type: Object },\r\n    destination: { type: Object },\r\n    waypoints: { type: Array },\r\n    travelMode: { type: String }\r\n  },\r\n  afterCreate(directionsRenderer) {\r\n    let directionsService = new window.google.maps.DirectionsService();\r\n\r\n    this.$watch(\r\n      () => [this.origin, this.destination,this.waypoints, this.travelMode],\r\n      () => {\r\n        let { origin, destination,waypoints, travelMode } = this;\r\n        if (!origin || !destination || !waypoints || !travelMode) return;\r\n\r\n      function makeMarker(position, icon, title) {\r\n        new google.maps.Marker({\r\n            position: position,\r\n            icon: icon,\r\n            title: title\r\n        });\r\n      }\r\n        directionsRenderer.setOptions({\r\n          preserveViewport : true\r\n        });\r\n        directionsRenderer.setPanel(document.getElementById('panel'));\r\n        directionsService.route(\r\n          {\r\n            origin,\r\n            destination,\r\n            travelMode,\r\n            waypoints,\r\n            provideRouteAlternatives: true,\r\n            optimizeWaypoints: true,\r\n          },\r\n          (response, status) => {\r\n            if (status !== \"OK\");\r\n            directionsRenderer.setDirections(response);\r\n          }\r\n        );\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n});\r\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=ce9a6908&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('back-button'),_c('download-excel',{staticClass:\"btn btn-primary float-right\",attrs:{\"data\":_vm.data,\"fields\":_vm.json_fields,\"worksheet\":\"Trip Ticket\",\"name\":\"trip_ticket.xls\"}},[_vm._v(\"\\r\\n      Export Trip Ticket\\r\\n    \")]),_c('button',{staticClass:\"btn btn-warning\",on:{\"click\":_vm.daily}},[_vm._v(\"Daily\")]),_c('button',{staticClass:\"btn btn-warning\",on:{\"click\":_vm.weekly}},[_vm._v(\"Weekly\")]),_c('button',{staticClass:\"btn btn-warning\",on:{\"click\":_vm.monthly}},[_vm._v(\"Monthly\")]),_c('button',{staticClass:\"btn btn-warning\",on:{\"click\":_vm.annual}},[_vm._v(\"Annual\")]),_c('h3',[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"row\"},_vm._l((_vm.data),function(datas){return _c('div',{key:datas.id,staticClass:\"col-12\"},[_c('div',{staticClass:\"card text-dark\"},[_c('div',{staticClass:\"card-header\",staticStyle:{\"background-color\":\"#006400\"}},[_c('i',{staticClass:\"fa fa-university\"}),_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(\" Ticket Number : \"+_vm._s(datas.id))])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('table',{staticClass:\"table table-responsive table-sm\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"border-0 w-50\"},[_vm._v(\"Route ID :\")]),_c('td',{staticClass:\"border-0\"},[_vm._v(_vm._s(datas.routeID))])]),_c('tr',[_c('th',[_vm._v(\"Vehicle ID :\")]),_c('td',[_vm._v(_vm._s(datas.vehicleID))])]),_c('tr',[_c('th',[_vm._v(\"Schedule :\")]),_c('td',[_vm._v(_vm._s(datas.startTime)+\" - \"+_vm._s(datas.endTime))])]),_c('tr',[_c('th',[_vm._v(\"Status :\")]),_c('td',[_vm._v(_vm._s(datas.status))])]),_c('tr',[(datas.status === 'Completed')?_c('a',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"#\",\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.approveData(datas.id,datas.vehicleID)}}},[_vm._v(\"\\r\\n                  Approve By Admin\\r\\n                  \")]):_vm._e()])])])]),_c('div',{staticClass:\"col-md-3\"},[_c('table',{staticClass:\"table table-responsive table-sm anyClass\"},[_vm._m(1,true),_vm._l((datas.passenger),function(result){return _c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(result.name))])])])})],2)]),_c('div',{staticClass:\"5\"})])])])])}),0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"card-title\"},[_vm._v(\"\\r\\n      History\\r\\n      \"),_c('strong',[_vm._v(\"Ticket\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_c('b',[_vm._v(\"Passenger Name\")])])])])}]\n\nexport { render, staticRenderFns }","<style scoped>\r\n.anyClass {\r\n  height:300px;\r\n  overflow-y: scroll;\r\n}\r\n</style>\r\n<template>\r\n<div>\r\n    <h4 class=\"card-title\">\r\n      History\r\n      <strong>Ticket</strong>\r\n    </h4>\r\n    <back-button></back-button>\r\n      <download-excel\r\n      class=\"btn btn-primary float-right\"\r\n      :data=\"data\"\r\n      :fields=\"json_fields\"\r\n      worksheet=\"Trip Ticket\"\r\n      name=\"trip_ticket.xls\"\r\n    >\r\n      Export Trip Ticket\r\n    </download-excel>\r\n    <button @click=\"daily\" class=\"btn btn-warning\">Daily</button>\r\n    <button @click=\"weekly\" class=\"btn btn-warning\">Weekly</button>\r\n    <button @click=\"monthly\" class=\"btn btn-warning\">Monthly</button>\r\n    <button @click=\"annual\" class=\"btn btn-warning\">Annual</button>\r\n    <h3>{{ title }}</h3>\r\n  <div class=\"row\">\r\n\r\n  <div class=\"col-12\" v-for=\"datas in data\" :key=\"datas.id\">\r\n    <div class=\"card text-dark\">\r\n      <div class=\"card-header\" style=\"background-color: #006400;\">\r\n\r\n    <i class=\"fa fa-university\"> </i> <strong style=\"color:white;\"> Ticket Number : {{ datas.id }}</strong>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-4\">\r\n            <table class=\"table table-responsive table-sm\">\r\n              <tbody>\r\n                <tr>\r\n                  <th class=\"border-0 w-50\">Route ID :</th>\r\n                  <td class=\"border-0\">{{ datas.routeID }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Vehicle ID :</th>\r\n                  <td>{{ datas.vehicleID }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Schedule :</th>\r\n                  <td>{{ datas.startTime }} - {{ datas.endTime }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Status :</th>\r\n                  <td>{{ datas.status }}</td>\r\n                </tr>\r\n                <tr>\r\n                    <a href=\"#\"\r\n                    class=\"btn btn-primary\"\r\n                    type=\"button\"\r\n                    @click.prevent=\"approveData(datas.id,datas.vehicleID)\"\r\n                    v-if=\"datas.status === 'Completed'\"\r\n                  >\r\n                  Approve By Admin\r\n                  </a>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"col-md-3\">\r\n              <table class=\"table table-responsive table-sm anyClass\">\r\n                <thead>\r\n                  <tr>\r\n                  <th><b>Passenger Name</b></th>\r\n                  </tr>\r\n                </thead>\r\n              <tbody v-for=\"result in datas.passenger\">\r\n                  <tr >\r\n                  <td>{{ result.name }}</td>\r\n                  </tr>\r\n              </tbody>\r\n              </table>\r\n          </div>\r\n          <div class=\"5\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport DirectionsRenderer from '@components/Maps/DirectionsRenderer';\r\nimport {gmapApi} from 'vue2-google-maps'\r\nimport * as fb from \"../../firebase\";\r\n\r\nexport default {\r\n  components:{\r\n    DirectionsRenderer\r\n  },\r\n  data() {\r\n    return {\r\n      title:'Daily',\r\n      json_data: [],\r\n      bank_accounts: [],\r\n      xprops: {\r\n        module: 'TicketsIndex',\r\n        route: 'tickets',\r\n        permission_prefix: 'tickets_'\r\n      },\r\n       json_fields: {\r\n         Date:'date',\r\n         Route:'routeID',\r\n         Vehicle:'vehicleID',\r\n         Driver:'driverID',\r\n         \"Start Time\":'startTime',\r\n         \"End Time\": 'endTime',\r\n         \"Passenger\" : 'passengerID'\r\n       }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.resetState()\r\n  },\r\n  computed: {\r\n    ...mapGetters('TicketsIndex', ['data', 'total', 'loading']),\r\n    google: gmapApi\r\n  },\r\n  mounted() {\r\n    this.fetchDailyData();\r\n    this.updateData();\r\n    this.updateMarkers();\r\n  },\r\n  methods: {\r\n    ...mapActions('TicketsIndex', [\r\n      'fetchDailyData',\r\n      'fetchWeeklyData',\r\n      'fetchMonthlyData',\r\n      'fetchAnnualData',\r\n      'setQuery',\r\n      'resetState'\r\n    ]),\r\n    daily(){\r\n      this.fetchDailyData();\r\n      this.title = 'Daily'\r\n    },\r\n    weekly(){\r\n      this.fetchWeeklyData();\r\n      this.title = 'Weekly'\r\n    },\r\n    monthly(){\r\n      this.fetchMonthlyData();\r\n      this.title = 'Monthly'\r\n    },\r\n    annual(){\r\n      this.fetchAnnualData();\r\n      this.title = 'Annual'\r\n    },\r\n    approveData(id,vehicleID) {\r\n      this.$swal({\r\n        title: 'Are you sure?',\r\n        text: \"You want to Approve!\",\r\n        type: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes',\r\n        confirmButtonColor: '#dd4b39',\r\n        focusCancel: true,\r\n        reverseButtons: true\r\n      }).then(result => {\r\n        if (result.value) {\r\n          this.$store\r\n            .dispatch(this.xprops.module + '/approveAdmin', id)\r\n            .then(result => {\r\n                this.$swal({\r\n                   type: 'primary',\r\n                   title: 'Succesfully',\r\n                   text: 'Approved By Admin'\r\n               });\r\n            })\r\n        }\r\n      })\r\n    },\r\n    updateData(){\r\n        var id = this.$route.params.id\r\n        const self = this;\r\n        var query = fb.db_firebase.ref('driverTrips/');\r\n        var vehicle = this.$route.params.vehicle\r\n        query.on('value', function (snapshot) {\r\n        var value = snapshot.val()[vehicle];\r\n              var latitude = parseFloat(value.latitude);\r\n              var longitude = parseFloat(value.longitude);\r\n              self.center = {\r\n                lat: latitude,\r\n                lng: longitude,\r\n              };\r\n        });\r\n        fb.ticketsCollection.doc(id).onSnapshot(response => {\r\n        var passengerList = response.data().passengerID;\r\n        var routeID = response.data().routeID;\r\n        fb.routesCollection.doc(routeID).onSnapshot((response) => {\r\n          var routeList = response.data();\r\n          var destinationID = routeList['destination'];\r\n          var waypointsID = routeList['pitstops'];\r\n          var waypointsLocation = [];\r\n          fb.locationsCollection.doc(destinationID).onSnapshot(response => {\r\n            var destination = {\r\n              lat : response.data().latitude,\r\n              lng : response.data().longitude\r\n            }\r\n            this.destination = destination;\r\n          });\r\n          waypointsID.forEach((doc)=>{\r\n            fb.locationsCollection.doc(doc).onSnapshot(response => {\r\n              waypointsLocation.push({\r\n                location:{\r\n                    lat : response.data().latitude,\r\n                    lng : response.data().longitude\r\n                },\r\n                stopover: true,\r\n              });\r\n            });\r\n          });\r\n          this.waypts = waypointsLocation\r\n        });\r\n        this.passenger =   passengerList;\r\n\r\n      });\r\n   },\r\n  updateMarkers: function() {\r\n         this.$refs.mapRef.$mapPromise.then((map) => {\r\n            const trafficLayer = new google.maps.TrafficLayer();\r\n             trafficLayer.setMap(map)\r\n           })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=ce9a6908&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=ce9a6908&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce9a6908\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}