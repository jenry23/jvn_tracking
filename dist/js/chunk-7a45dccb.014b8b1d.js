(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a45dccb"],{"3dfa":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[t._v("\n  "+t._s(t.center)+"\n  "),i("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"800px"},attrs:{center:t.center,zoom:15}},[i("DirectionsRenderer",{attrs:{travelMode:"DRIVING",origin:t.center,destination:t.marker}})],1)],1),i("br"),i("div",{staticClass:"col-md-4"},[t._m(0),i("div",{staticClass:"latLngLabel"},[t._v(t._s(t.lat)+", "+t._s(t.lng))]),i("button",{staticClass:"btn btn-info",on:{click:t.startLocationUpdates}},[i("i",{staticClass:"circle dot outline icon large"}),t._v("\n      Start Location\n    ")]),i("button",{staticClass:"btn btn-danger",on:{click:t.stopLocationUpdates}},[i("i",{staticClass:"circle dot outline icon large"}),t._v("\n      Stop Location\n    ")])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("div",{staticClass:"card-header",staticStyle:{"background-color":"#228B22"}},[i("i",{staticClass:"fa fa-university"}),i("strong",{staticStyle:{color:"white"}},[t._v(" Navigation Maps")])]),i("div",{staticClass:"card-body"},[i("div",{attrs:{id:"panel"}})])])}],o=i("aeac"),s=i("602f"),r=i("755e"),c={components:{DirectionsRenderer:s["a"]},data(){return{user:null,center:{lat:0,lng:0},marker:{lat:14.182127,lng:121.282268},routingService:{},lat:0,lng:0,position:"",watchPositionId:null}},computed:{google:r["gmapApi"]},mounted(){o["a"].onAuthStateChanged(t=>{this.user=t})},methods:{signOutButtonPressed(){o["a"].signOut().then(t=>{this.$router.push({name:"/"})}).catch(t=>{console.log(t.message)})},startLocationUpdates(){this.watchPositionId=navigator.geolocation.watchPosition(t=>{this.lat=t.coords.latitude,this.lng=t.coords.longitude,this.updateLocation(this.lat,this.lng),this.updateCenter(this.lat,this.lng),console.log(this.lat)},t=>{console.log(t.message)})},stopLocationUpdates(){navigator.geolocation.clearWatch(this.watchPositionId)},updateCenter(t,e){this.center={lat:t,lng:e}},updateLocation(t,e){const i={latitude:t,longitude:e};o["b"].ref("driverTrips/"+this.$route.params.id).update(i),this.updateMarkers()},updateMarkers:function(){this.$refs.mapRef.$mapPromise.then(t=>{const e=new google.maps.TrafficLayer;e.setMap(t)})}}},l=c,d=i("2877"),p=Object(d["a"])(l,a,n,!1,null,null,null);e["default"]=p.exports},"602f":function(t,e,i){"use strict";var a=i("755e");e["a"]=Object(a["MapElementFactory"])({name:"directionsRenderer",ctr(){return window.google.maps.DirectionsRenderer},events:["directions_changed"],mappedProps:{options:{zoomControl:!1}},props:{origin:{type:Object},destination:{type:Object},travelMode:{type:String}},afterCreate(t){let e=new window.google.maps.DirectionsService;this.$watch(()=>[this.origin,this.destination,this.travelMode],()=>{let{origin:i,destination:a,travelMode:n}=this;i&&a&&n&&(t.setOptions({preserveViewport:!0}),t.setPanel(document.getElementById("panel")),e.route({origin:i,destination:a,travelMode:n,drivingOptions:{departureTime:new Date(Date.now()),trafficModel:"optimistic"},avoidTolls:!0},(e,i)=>{"OK"===i&&t.setDirections(e)}))})}})}}]);
//# sourceMappingURL=chunk-7a45dccb.014b8b1d.js.map