{"version":3,"sources":["webpack:///./resources/adminapp/js/cruds/Tickets/Show.vue?4e20","webpack:///resources/adminapp/js/cruds/Tickets/Show.vue","webpack:///./resources/adminapp/js/cruds/Tickets/Show.vue?6792","webpack:///./resources/adminapp/js/cruds/Tickets/Show.vue","webpack:///./resources/adminapp/js/components/Maps/DirectionsRenderer.js","webpack:///./resources/adminapp/js/cruds/Tickets/Show.vue?4306"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticStyle","attrs","center","destination","waypts","_m","_l","datas","key","id","pickup","_v","_s","name","staticRenderFns","component","MapElementFactory","ctr","window","google","maps","DirectionsRenderer","events","mappedProps","options","zoomControl","props","origin","type","Object","waypoints","Array","travelMode","String","afterCreate","directionsRenderer","directionsService","DirectionsService","$watch","setOptions","preserveViewport","setPanel","document","getElementById","route","provideRouteAlternatives","optimizeWaypoints","response","status","setDirections"],"mappings":"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","file":"js/chunk-34c527c7.68d49910.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('GmapMap',{ref:\"mapRef\",staticStyle:{\"width\":\"100%\",\"height\":\"800px\"},attrs:{\"center\":_vm.center,\"zoom\":18}},[_c('DirectionsRenderer',{attrs:{\"origin\":this.center,\"destination\":this.destination,\"waypoints\":this.waypts,\"travelMode\":\"DRIVING\"}})],1)],1),_c('div',{staticClass:\"col-md-4\"},[_vm._m(0),_c('div',{staticClass:\"card\"},[_vm._m(1),_vm._l((_vm.passenger),function(datas){return _c('div',{key:datas.id,staticClass:\"card-body\"},[(datas.pickup == true)?_c('div',[_c('b',[_vm._v(_vm._s(datas.name))]),_vm._v(\" -\\n                    \"),_c('i',{staticClass:\"material-icons\",staticStyle:{\"color\":\"green\"}},[_vm._v(\"check\")])]):_c('div',[_c('b',[_vm._v(_vm._s(datas.name))]),_vm._v(\" -\\n                    \"),_c('i',{staticClass:\"material-icons\",staticStyle:{\"color\":\"red\"}},[_vm._v(\"block\")])])])}),_vm._m(2)],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\",staticStyle:{\"background-color\":\"rgb(34, 139, 34)\"}},[_c('i',{staticClass:\"fa fa-university\"}),_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(\" Navigation Maps\")])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"anyClass\",attrs:{\"id\":\"panel\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\",staticStyle:{\"background-color\":\"rgb(34, 139, 34)\"}},[_c('i',{staticClass:\"fa fa-university\"}),_c('strong',{staticStyle:{\"color\":\"white\"}},[_vm._v(\" Passenger List\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body\"},[_c('div',{attrs:{\"id\":\"panel\"}})])}]\n\nexport { render, staticRenderFns }","<style scoped>\r\n.anyClass {\r\n    height: 300px;\r\n    overflow-y: scroll;\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-8\">\r\n            <GmapMap\r\n                :center=\"center\"\r\n                ref=\"mapRef\"\r\n                :zoom=\"18\"\r\n                style=\"width: 100%; height: 800px\"\r\n            >\r\n                <DirectionsRenderer\r\n                    :origin=\"this.center\"\r\n                    :destination=\"this.destination\"\r\n                    :waypoints=\"this.waypts\"\r\n                    travelMode=\"DRIVING\"\r\n                />\r\n            </GmapMap>\r\n        </div>\r\n\r\n        <div class=\"col-md-4\">\r\n            <div class=\"card\">\r\n                <div\r\n                    class=\"card-header\"\r\n                    style=\"background-color: rgb(34, 139, 34)\"\r\n                >\r\n                    <i class=\"fa fa-university\"></i\r\n                    ><strong style=\"color: white\"> Navigation Maps</strong>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div id=\"panel\" class=\"anyClass\"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"card\">\r\n                <div\r\n                    class=\"card-header\"\r\n                    style=\"background-color: rgb(34, 139, 34)\"\r\n                >\r\n                    <i class=\"fa fa-university\"></i\r\n                    ><strong style=\"color: white\"> Passenger List</strong>\r\n                </div>\r\n                <div\r\n                    class=\"card-body\"\r\n                    v-for=\"datas in passenger\"\r\n                    :key=\"datas.id\"\r\n                >\r\n                    <div v-if=\"datas.pickup == true\">\r\n                        <b>{{ datas.name }}</b> -\r\n                        <i class=\"material-icons\" style=\"color: green\">check</i>\r\n                    </div>\r\n                    <div v-else>\r\n                        <b>{{ datas.name }}</b> -\r\n                        <i class=\"material-icons\" style=\"color: red\">block</i>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div id=\"panel\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as fb from \"../../firebase\";\r\nimport DirectionsRenderer from \"@components/Maps/DirectionsRenderer\";\r\nimport { gmapApi } from \"vue2-google-maps\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n    components: {\r\n        DirectionsRenderer,\r\n    },\r\n    data() {\r\n        return {\r\n            center: { lat: 0, lng: 0 },\r\n            waypts: [\r\n                {\r\n                    lat: 0,\r\n                    lng: 0,\r\n                },\r\n            ],\r\n            destination: { lat: 0, lng: 0 },\r\n            passenger: [],\r\n            lat: 0,\r\n            lng: 0,\r\n            position: \"\",\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters(\"TicketsIndex\", [\"data\", \"total\", \"loading\"]),\r\n        google: gmapApi,\r\n    },\r\n    mounted() {\r\n        this.updateData();\r\n        this.updateMarkers();\r\n    },\r\n    methods: {\r\n        ...mapActions(\"TicketsIndex\", [\"setQuery\", \"resetState\"]),\r\n        signOutButtonPressed() {\r\n            fb.auth\r\n                .signOut()\r\n                .then((user) => {\r\n                    this.$router.push({\r\n                        name: \"/\",\r\n                    });\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error.message);\r\n                });\r\n        },\r\n        updateData() {\r\n            var id = this.$route.params.id;\r\n            const self = this;\r\n            var query = fb.db_firebase.ref(\"driverTrips/\");\r\n            var vehicle = this.$route.params.vehicle;\r\n            query.on(\"value\", function (snapshot) {\r\n                var value = snapshot.val()[vehicle];\r\n                var latitude = parseFloat(value.latitude);\r\n                var longitude = parseFloat(value.longitude);\r\n                self.center = {\r\n                    lat: latitude,\r\n                    lng: longitude,\r\n                };\r\n            });\r\n            fb.ticketsCollection.doc(id).onSnapshot((response) => {\r\n                var passengerList = response.data().passengerID;\r\n                var routeID = response.data().routeID;\r\n                fb.routesCollection.doc(routeID).onSnapshot((response) => {\r\n                    var routeList = response.data();\r\n                    var destinationID = routeList[\"destination\"];\r\n                    var waypointsID = routeList[\"pitstops\"];\r\n                    var waypointsLocation = [];\r\n                    fb.locationsCollection\r\n                        .doc(destinationID)\r\n                        .onSnapshot((response) => {\r\n                            var destination = {\r\n                                lat: response.data().latitude,\r\n                                lng: response.data().longitude,\r\n                            };\r\n                            this.destination = destination;\r\n                        });\r\n                    waypointsID.forEach((doc) => {\r\n                        fb.locationsCollection\r\n                            .doc(doc)\r\n                            .onSnapshot((response) => {\r\n                                waypointsLocation.push({\r\n                                    location: {\r\n                                        lat: response.data().latitude,\r\n                                        lng: response.data().longitude,\r\n                                    },\r\n                                    stopover: true,\r\n                                });\r\n                            });\r\n                    });\r\n                    this.waypts = waypointsLocation;\r\n                });\r\n                this.passenger = passengerList;\r\n            });\r\n        },\r\n        updates: function () {\r\n            this.$refs.mapRef.$mapPromise.then((map) => {\r\n                const trafficLayer = new google.maps.TrafficLayer();\r\n                trafficLayer.setMap(map);\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=210bba03&scoped=true&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Show.vue?vue&type=style&index=0&id=210bba03&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"210bba03\",\n  null\n  \n)\n\nexport default component.exports","import { MapElementFactory } from \"vue2-google-maps\";\r\n\r\nexport default MapElementFactory({\r\n  name: \"directionsRenderer\",\r\n\r\n  ctr() {\r\n    return window.google.maps.DirectionsRenderer;\r\n  },\r\n\r\n  events: ['directions_changed'],\r\n\r\n  mappedProps: {\r\n    options: { zoomControl: false },\r\n  },\r\n\r\n  props: {\r\n    origin: { type: Object },\r\n    destination: { type: Object },\r\n    waypoints: { type: Array },\r\n    travelMode: { type: String }\r\n  },\r\n  afterCreate(directionsRenderer) {\r\n    let directionsService = new window.google.maps.DirectionsService();\r\n\r\n    this.$watch(\r\n      () => [this.origin, this.destination,this.waypoints, this.travelMode],\r\n      () => {\r\n        let { origin, destination,waypoints, travelMode } = this;\r\n        if (!origin || !destination || !waypoints || !travelMode) return;\r\n\r\n      function makeMarker(position, icon, title) {\r\n        new google.maps.Marker({\r\n            position: position,\r\n            icon: icon,\r\n            title: title\r\n        });\r\n      }\r\n        directionsRenderer.setOptions({\r\n          preserveViewport : true\r\n        });\r\n        directionsRenderer.setPanel(document.getElementById('panel'));\r\n        directionsService.route(\r\n          {\r\n            origin,\r\n            destination,\r\n            travelMode,\r\n            waypoints,\r\n            provideRouteAlternatives: true,\r\n            optimizeWaypoints: true,\r\n          },\r\n          (response, status) => {\r\n            if (status !== \"OK\");\r\n            directionsRenderer.setDirections(response);\r\n          }\r\n        );\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n});\r\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=style&index=0&id=210bba03&scoped=true&lang=css&\""],"sourceRoot":""}