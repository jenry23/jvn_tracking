(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27a77d5b"],{"42b3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"800px"},attrs:{center:t.center,zoom:18}},[a("DirectionsRenderer",{attrs:{origin:this.center,destination:this.destination,waypoints:this.waypts,travelMode:"DRIVING"}})],1)],1),a("div",{staticClass:"col-md-4"},[t._m(0),a("div",{staticClass:"card"},[t._m(1),t._l(t.passenger,(function(e){return a("div",{staticClass:"card-body"},[1==e.pickup?a("div",[a("b",[t._v(t._s(e.name))]),t._v(" - "),a("i",{staticClass:"material-icons",staticStyle:{color:"green"}},[t._v("check")])]):a("div",[a("b",[t._v(t._s(e.name))]),t._v(" - "),a("i",{staticClass:"material-icons",staticStyle:{color:"red"}},[t._v("block")])])])})),t._m(2)],2)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{"background-color":"rgb(34, 139, 34)"}},[a("i",{staticClass:"fa fa-university"}),a("strong",{staticStyle:{color:"white"}},[t._v(" Navigation Maps")])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"anyClass",attrs:{id:"panel"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"background-color":"rgb(34, 139, 34)"}},[a("i",{staticClass:"fa fa-university"}),a("strong",{staticStyle:{color:"white"}},[t._v(" Passenger List")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"panel"}})])}],o=a("aeac"),n=a("602f"),r=a("755e"),c=a("2f62"),l={components:{DirectionsRenderer:n["a"]},data(){return{center:{lat:0,lng:0},waypts:[{lat:0,lng:0}],destination:{lat:0,lng:0},passenger:[],lat:0,lng:0,position:""}},computed:{...Object(c["c"])("TicketsIndex",["data","total","loading"]),google:r["gmapApi"]},mounted(){this.updateData(),this.updateMarkers()},methods:{...Object(c["b"])("TicketsIndex",["setQuery","resetState"]),signOutButtonPressed(){o["a"].signOut().then(t=>{this.$router.push({name:"/"})}).catch(t=>{console.log(t.message)})},updateData(){var t=this.$route.params.id;const e=this;var a=o["c"].ref("driverTrips/"),s=this.$route.params.vehicle;a.on("value",(function(t){var a=t.val()[s],i=parseFloat(a.latitude),o=parseFloat(a.longitude);e.center={lat:i,lng:o}})),o["m"].doc(t).onSnapshot(t=>{var e=t.data().passengerID,a=t.data().routeID;o["k"].doc(a).onSnapshot(t=>{var e=t.data(),a=e["destination"],s=e["pitstops"],i=[];o["g"].doc(a).onSnapshot(t=>{var e={lat:t.data().latitude,lng:t.data().longitude};this.destination=e}),s.forEach(t=>{o["g"].doc(t).onSnapshot(t=>{i.push({location:{lat:t.data().latitude,lng:t.data().longitude},stopover:!0})})}),this.waypts=i}),this.passenger=e})},updateMarkers:function(){this.$refs.mapRef.$mapPromise.then(t=>{const e=new google.maps.TrafficLayer;e.setMap(t)})}}},d=l,p=(a("f24f"),a("2877")),g=Object(p["a"])(d,s,i,!1,null,"425acdd6",null);e["default"]=g.exports},"602f":function(t,e,a){"use strict";var s=a("755e");e["a"]=Object(s["MapElementFactory"])({name:"directionsRenderer",ctr(){return window.google.maps.DirectionsRenderer},events:["directions_changed"],mappedProps:{options:{zoomControl:!1}},props:{origin:{type:Object},destination:{type:Object},waypoints:{type:Array},travelMode:{type:String}},afterCreate(t){let e=new window.google.maps.DirectionsService;this.$watch(()=>[this.origin,this.destination,this.waypoints,this.travelMode],()=>{let{origin:a,destination:s,waypoints:i,travelMode:o}=this;if(a&&s&&i&&o){new google.maps.DirectionsRenderer({suppressMarkers:!0});var n={start:new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/blue.png",new google.maps.Size(44,32),new google.maps.Point(0,0),new google.maps.Point(22,32)),end:new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/green.png",new google.maps.Size(44,32),new google.maps.Point(0,0),new google.maps.Point(22,32))};t.setOptions({preserveViewport:!0}),t.setPanel(document.getElementById("panel")),e.route({origin:a,destination:s,travelMode:o,waypoints:i,provideRouteAlternatives:!0,optimizeWaypoints:!0},(e,a)=>{t.setDirections(e);var s=e.routes[0].legs[0];console.log(s.start_location),r(s.start_location,n.start,"title"),r(s.end_location,n.end,"title")})}function r(t,e,a){new google.maps.Marker({position:t,icon:e,title:a})}})}})},7559:function(t,e,a){},f24f:function(t,e,a){"use strict";a("7559")}}]);
//# sourceMappingURL=chunk-27a77d5b.b8653eb5.js.map