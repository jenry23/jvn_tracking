(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2311f8"],{eece:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header card-header-primary card-header-icon"},[e._m(0),s("h4",{staticClass:"card-title"},[e._v("\n              "+e._s(e.$t("global.create"))+"\n              "),s("strong",[e._v(e._s(e.$t("cruds.crmDocument.title_singular")))])])]),s("div",{staticClass:"card-body"},[s("back-button")],1),s("div",{staticClass:"card-body"},[s("bootstrap-alert"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group bmd-form-group",class:{"has-items":null!==e.entry.customer_id,"is-focused":"customer"==e.activeField}},[s("label",{staticClass:"bmd-label-floating required"},[e._v(e._s(e.$t("cruds.crmDocument.fields.customer")))]),s("v-select",{key:"customer-field",attrs:{name:"customer",label:"first_name",value:e.entry.customer_id,options:e.lists.customer,reduce:function(e){return e.id}},on:{input:e.updateCustomer,search:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"focus",void 0,t.key,void 0)?null:e.focusField("customer")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"blur",void 0,t.key,void 0)?null:e.clearFocus(t)}]}})],1),s("div",{staticClass:"form-group"},[s("label",{staticClass:"required"},[e._v(e._s(e.$t("cruds.crmDocument.fields.document_file")))]),s("attachment",{attrs:{route:e.getRoute("crm-documents"),"collection-name":"crm_document_document_file",media:e.entry.document_file,"max-file-size":2,"max-files":1},on:{"file-uploaded":e.insertDocumentFileFile,"file-removed":e.removeDocumentFileFile}})],1),s("div",{staticClass:"form-group bmd-form-group",class:{"has-items":e.entry.name,"is-focused":"name"==e.activeField}},[s("label",{staticClass:"bmd-label-floating required"},[e._v(e._s(e.$t("cruds.crmDocument.fields.name")))]),s("input",{staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.entry.name},on:{input:e.updateName,focus:function(t){return e.focusField("name")},blur:e.clearFocus}})])])])],1),s("div",{staticClass:"card-footer"},[s("vue-button-spinner",{staticClass:"btn-primary",attrs:{status:e.status,isLoading:e.loading,disabled:e.loading}},[e._v("\n              "+e._s(e.$t("global.save"))+"\n            ")])],1)])])])])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card-icon"},[s("i",{staticClass:"material-icons"},[e._v("add")])])}],r=s("2f62"),c=s("0eaa"),o={components:{Attachment:c["a"]},data(){return{status:"",activeField:""}},computed:{...Object(r["c"])("CrmDocumentsSingle",["entry","loading","lists"])},mounted(){this.fetchCreateData()},beforeDestroy(){this.resetState()},methods:{...Object(r["b"])("CrmDocumentsSingle",["storeData","resetState","setCustomer","insertDocumentFileFile","removeDocumentFileFile","setName","fetchCreateData"]),updateCustomer(e){this.setCustomer(e)},updateName(e){this.setName(e.target.value)},getRoute(e){return`${axios.defaults.baseURL}${e}/media`},submitForm(){this.storeData().then(()=>{this.$router.push({name:"crm_documents.index"}),this.$eventHub.$emit("create-success")}).catch(e=>{this.status="failed",_.delay(()=>{this.status=""},3e3)})},focusField(e){this.activeField=e},clearFocus(){this.activeField=""}}},l=o,n=s("2877"),u=Object(n["a"])(l,a,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2311f8.f931a7c5.js.map